              
          
    由于最近自己管理的mysql有出现查询慢的情况，为了能够查询出慢查询的sql语句，故启动了mysql的慢查询日志，具体启动慢查询的方法有以下两种：1、直接登入mysql,更改mysql参数.(注：登入账号需有管理员权限)mysql>setgloballog_slow_queries=on;mysql>setglobalslow_query_log_file=/data/mysql.slow.log;mysql>setgloballong_query_time=0;如果是这种方法的话，重启数据库之后就不生效了。2、直接更改my.conf[mysqld]log-slow-queries=/data/mysql.slow.loglong_query_time=0我本次使用的是第2种方法，但是重启mysql之后发现慢查询日志没有生效，查询了一下mysql日志，发现日志报如下错误：11090718:28:04InnoDB:Started;logsequencenumber04245951191/usr/libexec/mysqld:File&#39;/data/mysql.slow.log&#39;notfound(Errcode:13)11090718:28:04[ERROR]Couldnotuse/data/mysql.slow.logforlogging(error13).TurningloggingoffforthewholedurationoftheMySQLserverprocess.Toturnitonagain:fixthecause,shutdowntheMySQLserverandrestartit.出现这个情况，一般通过以下操作就可以解决：touch/data/mysql.slow.logchownmysql.mysql/data/mysql.slow.logchmodo-r/data/mysql.slow.log可是还是不行，再次认真分析了下log发现主要还是/data/mysql.slow.log文件无法找到引起的，但是实际上/data/mysql.slow.log文件是存在的；没办法一下子没找到原因，先把慢查询文件路径改为/var/log/mysql-slow.log试试，这样就行了。11090718:39:57mysqld_safemysqldfrompidfile/var/run/mysqld/mysqld.pidended11090718:39:57mysqld_safeStartingmysqlddaemonwithdatabasesfrom/var/lib/mysql11090718:39:57[Warning]&#39;--log_slow_queries&#39;isdeprecatedandwillberemovedinafuturerelease.Pleaseuse&#39;&#39;--slow_query_log&#39;/&#39;--slow_query_log_file&#39;&#39;instead.11090718:39:57InnoDB:Started;logsequencenumber0424595119111090718:39:57[Note]EventScheduler:Loaded0events11090718:39:57[Note]/usr/libexec/mysqld:readyforconnections.Version:&#39;5.1.52-log&#39;socket:&#39;/var/lib/mysql/mysql.sock&#39;port:3306Sourcedistribution

    [wei@localhost mysql]$>>>sudo cat mysql.slow.log [sudo] password for wei: /usr/local/mysql/libexec/mysqld, Version: 5.1.60-log (Source distribution). started with:Tcp port: 3306  Unix socket: /tmp/mysql.sockTime                 Id Command    Argument/usr/local/mysql/libexec/mysqld, Version: 5.1.60-log (Source distribution). started with:Tcp port: 3306  Unix socket: /tmp/mysql.sockTime                 Id Command    Argument# Time: 120723 12:18:53# User@Host: root[root] @ localhost []# Query_time: 0.044071  Lock_time: 0.013426 Rows_sent: 10836  Rows_examined: 10836use test;SET timestamp=1343017133;select * from users;    
    
      
来自:http://www.i5good.com/20120723113.html